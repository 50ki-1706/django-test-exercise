{% extends 'todo/base.html' %} {% block title %}タスク一覧 - To Do Application{% endblock %} {% block content %}
<form action="{% url 'index' %}" method="post">
  {% csrf_token %}

  <div class="form-group">
    <label for="titleInput">Title</label>
    <input id="titleInput" name="title" type="text" placeholder="タイトルを入力" class="textbox-1" />
  </div>

  <div class="form-group">
    <label for="dueInput">Due at:</label>
    <div class="datetime-container">
      <input id="dueInput" name="due_at" type="datetime-local" />
    </div>
  </div>

  <div class="form-group">
    <button type="submit" class="button-1">保存</button>
  </div>
</form>

<div class="sort-links">
  <a href="{% url 'index' %}?order=due" class="sort-link {% if current_order == 'due' %}active{% endif %}">
    Sort by Due Date
  </a>
  |
  <a href="{% url 'index' %}?order=post" class="sort-link {% if current_order == 'post' %}active{% endif %}">
    Sort by Posted Date
  </a>
</div>

{% for task in tasks %}
<div class="task-item">
  <h2><a href="{% url 'detail' task.id %}">{{ task.title }}</a></h2>
  <ul>
    <li>Posted at: {{ task.posted_at|date:"Y-m-d H:i" }}</li>
    {% if task.due_at %}
    <li>Due at: {{ task.due_at|date:"Y-m-d H:i" }}</li>
    {% endif %} {% if task.completed %}
    <li>Status: Completed</li>
    {% else %}
    <li>Status: Not Completed</li>
    {% endif %}
  </ul>
</div>
{% endfor %} {% endblock %}
